<app-progress-bar
  [currentStep]="2"
  [steps]="['Personal Info','Incident Details','FNOL','Property Details','Damage Assessment','Witness Info','Insurance Details','Additional Info','Banking Info','Form Submit']">
</app-progress-bar>

<div class="incident-details-container">
  <div class="card">
    <h2><i class="bi bi-exclamation-triangle"></i> Incident Details</h2>
    <form #incidentDetailsForm="ngForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label for="date-of-loss"><i class="bi bi-calendar"></i> Date of Loss:</label>
        <input type="date" id="date-of-loss" name="dateOfLoss" [(ngModel)]="dateOfLoss" required max="{{ today }}" #dateRef="ngModel">
        <div *ngIf="dateRef.touched && dateRef.invalid" class="error">
          <i class="bi bi-exclamation-circle"></i> Date of loss is required and cannot be in the future.
        </div>
      </div>

      <div class="form-group">
        <label for="time-of-loss"><i class="bi bi-clock"></i> Time of Loss (Optional):</label>
        <input type="time" id="time-of-loss" [(ngModel)]="timeOfLoss" name="timeOfLoss">
      </div>

      <div class="form-group">
        <label for="location-of-incident"><i class="bi bi-geo-alt"></i> Location of the Incident:</label>
        <input type="text" id="location-of-incident" name="locationOfIncident" [(ngModel)]="locationOfIncident" required #locationRef="ngModel">
        <div *ngIf="locationRef.touched && locationRef.invalid" class="error">
          <i class="bi bi-exclamation-circle"></i> Location is required.
        </div>
      </div>

      <div class="form-group">
        <label for="cause-of-loss"><i class="bi bi-exclamation-triangle"></i> Cause of Loss:</label>
        <input type="text" id="cause-of-loss" name="causeOfLoss" [(ngModel)]="causeOfLoss" required #causeRef="ngModel">
        <div *ngIf="causeRef.touched && causeRef.invalid" class="error">
          <i class="bi bi-exclamation-circle"></i> Cause is required.
        </div>
      </div>

      <div class="form-group">
        <label for="description-of-damages"><i class="bi bi-file-earmark-text"></i> Description of Damages:</label>
        <textarea id="description-of-damages" name="descriptionOfDamages" [(ngModel)]="descriptionOfDamages" required #descRef="ngModel"></textarea>
        <div *ngIf="descRef.touched && descRef.invalid" class="error">
          <i class="bi bi-exclamation-circle"></i> Description is required.
        </div>
      </div>

      <button type="submit" class="btn btn-primary submit-button">
        <i class="bi bi-box-arrow-in-right"></i> Submit
      </button>
    </form>
  </div>
</div>
